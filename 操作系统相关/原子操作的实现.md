## 什么是原子操作

一个操作可能由多个指令构成，原子操作要求**要么所有指令都成功，要么所有指令都失败，不存在一部分指令成功一部分指令失败的情况**

## 如何实现

根本就是要保证**保证操作指令序列不被打断**就可实现原子操作，当然对于**内存读取**也要保证不被其他操作干扰。

- 单处理器单核系统可以通过自旋锁来保证
- 多处理或多核系统除了需要spinlock来保证外，还需要保证不受其他处理其他核的影响。这就就可以通过锁住总线，或者lock其他cpu核对相关内存的缓存块的访问。

## 参考

[https://zhuanlan.zhihu.com/p/33445834](https://zhuanlan.zhihu.com/p/33445834)

