### redis 记录
https://km.netease.com/article/309881

https://zhuanlan.zhihu.com/p/56941754

#### 压缩链表
 - 结构
 内存连续
 - 优点
 在数量小，元素大小小时会被选用。因为内存紧凑省内存，同时因为内存连续易被缓存到同一个page
 
#### 跳表
遍历时从最高层开始遍历，找到第一个比查找值大的，再从backword节点的下次层查找，如此往复只到查到第0层
#### 缓存雪崩、缓存穿透、缓存击穿
 - 缓存雪崩：大量key统一时间过期，此时大流量访问
 - 缓存穿透：大量不合理key的流量访问，绕过缓存不断冲击数据库
 - 缓存击穿：大量流量访问同一个key，不断绕过该key？？

#### 内存分配
info memory 查看
 - 进程自身占用内存
 - 数据占用内存
 - 客户端缓冲区（TCP输入输出缓冲区、复制积压缓冲区、AOF重写缓冲区）
 - 内存碎片
 - 子进程内存消耗（重写AOF或RDB保存）
#### 读写方案
 - sentinal
读写分离
 - cluster
默认master同时读写，也可以设置slave读
