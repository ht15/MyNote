## malloc的实现

当向系统申请堆内存时，不一定会真的申请新的堆内存。因为第一次申请堆内存时会一次性的分配给用户较大块的内存，以便下次申请时不用进行系统调用。那么有哪些系统调用可以用于申请堆内存呢？

- mmap

  参考 **系统调用/mmap.md**，一般申请的内存较大时才会采用mmap的方式。

- brk(linux) | VirtualAlloc(win32)

所以实际运行库层面(CRT)会有管理堆的一个算法来分配一次性取得的大块内存。